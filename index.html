<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Project S2 #1 : To-Do-Sth</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />
	
	<!-- 합쳐지고 최소화된 최신 CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<!-- 합쳐지고 최소화된 최신 자바스크립트 -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	
</head>
<script type="text/javascript">
    const URL = "https://naw1m4lp68.execute-api.ap-northeast-2.amazonaws.com/2020-10-25/todo";
    var result;
    function get() {
        fetch(URL, {
            headers : {
                'Accept' : 'application/json'
            }
        }).then(res => res.json())
          .then(data => makeTr(data))
          .catch(err => console.log(err));        
    };

    //데이터 테이블에 뿌리기
    function makeTr(data) {
        var table = document.getElementById("todo-tbody");
        for(idx in data) {
            console.log(data[idx]);
            var row = table.insertRow(idx);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            cell1.innerHTML = data[idx].id;
            cell2.innerHTML = data[idx].name;
            cell3.innerHTML = data[idx].content;
            cell4.innerHTML = '<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button><button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>';
        }
    } 
    
    get();
</script>
<body>

	<!-- content : ToDoList -->
	<div id="fh5co-blog" class="fh5co-bg-section">
		<div class="container">
			<div class="row animate-box row-pb-md" data-animate-effect="fadeInUp">
				<div class="col-md-12 col-sm-12 text-left fh5co-heading" id="to-do">
					<span>Let's do it</span>
					<h2>TO DO SOMETHING</h2>
					<p>우리의 목표를 위해 달려 달려</p>
				</div>
			</div>
			<div class="row animate-box row-pb-md"  data-animate-effect="fadeInUp">
				<div class="col-md-12 col-sm-12 fh5co-heading" id="to-do-table">
					<table class="table table-hover">
					 <colgroup>
					 	<col width="5%" align="center" >
					 	<col width="15%" align="center">
					 	<col width="*%" align="center">
					 	<col width="10%" align="center">
					 </colgroup>
						<thead>
							<tr>
								<th>No</th>
								<th>Name</th>
								<th>Do it</th>
								<th>Edit</th>
							</tr>
						</thead>
						<tbody id="todo-tbody">
                            <!--
							<tr>
								<td class="no">1</td>
								<td class="name">Chloe</td>
								<td class="doit">html 테이블 만들기 </td>
								<td class="edit">
									<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
									<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
								</td>
							</tr>
							<tr>
								<td class="no">2</td>
								<td class="name">Soo</td>
								<td class="doit">Mongo DB 구축</td>
								<td class="edit">
									<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
									<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
								</td>
                            </tr>
                            -->
						</tbody>
						<tfoot>
							<tr>
								<td colspan="4">
								<button type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button>
								</td>
							</tr>
						</tfoot>
					</table>
				</div>
            </div>
		</div>
	</div>
</body>
</html>